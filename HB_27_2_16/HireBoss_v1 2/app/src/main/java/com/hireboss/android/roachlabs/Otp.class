package com.example.gdevs.newotp;

import android.content.Context;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.support.design.widget.FloatingActionButton;
import android.support.design.widget.Snackbar;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.widget.Toolbar;
import android.view.View;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.telephony.SmsManager;
import android.telephony.SmsMessage;
import android.util.Log;
import android.widget.EditText;

public class IncomingSms extends AppCompatActivity {
    static EditText OtpNumber;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_otp_wait);
        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
        setSupportActionBar(toolbar);

        SharedPreferences sp = getSharedPreferences("MyData", Context.MODE_PRIVATE);
        sp.getString("account_id","not found");

        OtpNumber = (EditText) findViewById(R.id.txtName);

    }

//    public void recivedSms(String message)
//    {
//        try
//        {
//            OtpNumber.setText(message);
//        }
//        catch (Exception e)
//        {
//        }
//    }

}






// class OtpWait extends BroadcastReceiver
//{
//    @Override
//    public void onReceive(Context context, final Intent intent)
//    {
//
//
//        final Bundle bundle = intent.getExtras();
//        try {
//            if (bundle != null)
//            {
//                final Object[] pdusObj = (Object[]) bundle.get("pdus");
//                for (int i = 0; i < pdusObj .length; i++)
//                {
//                    SmsMessage currentMessage = SmsMessage.createFromPdu((byte[])                                                                                                    pdusObj[i]);
//                    String phoneNumber = currentMessage.getDisplayOriginatingAddress();
//                    String senderNum = phoneNumber ;
//                    String message = currentMessage .getDisplayMessageBody();
//                    try
//                    {
//                        if (senderNum .equals("HP-HREBOS")||senderNum .equals("MM-HREBOS"))
//                        {
//                            IncomingSms Sms = new IncomingSms();
//                            Sms.recivedSms(message );
//                        }
//                    }
//                    catch(Exception e){}
//
//                }
//            }
//
//        } catch (Exception e)
//        {
//
//        }
//            }
//
//        }
//
//
//
